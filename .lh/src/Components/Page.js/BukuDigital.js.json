{
    "sourceFile": "src/Components/Page.js/BukuDigital.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1728543601457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1728543607800,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,9 +37,8 @@\n   };\r\n \r\n   return (\r\n     <div className=\"sektoral-container\">\r\n-      {/* <Navbar/> */}\r\n       <div className=\"sektoral-box\">\r\n         <h2 className=\"sektoral-title\">Daftar Buku Digital</h2>\r\n         {error && <p className=\"error-message\">{error}</p>}\r\n \r\n"
                },
                {
                    "date": 1728545655127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,88 +0,0 @@\n-// src/Components/auth/BukuDigital.js\r\n-import React, { useState, useEffect } from \"react\";\r\n-import axios from \"axios\";\r\n-import \"../../styles/Bukudigital.css\";\r\n-\r\n-\r\n-const BukuDigital = () => {\r\n-  const [bukuDigital, setBukuDigital] = useState([]);\r\n-  const [loading, setLoading] = useState(true);\r\n-  const [error, setError] = useState(null);\r\n-  const [selectedBook, setSelectedBook] = useState(null);\r\n-\r\n-  useEffect(() => {\r\n-    const fetchData = async () => {\r\n-      setLoading(true);\r\n-      try {\r\n-        const response = await axios.get(\"http://116.206.212.234:4000/buku-digital\");\r\n-        if (response.data) {\r\n-          setBukuDigital(response.data);\r\n-        } else {\r\n-          setError(\"Data tidak ditemukan.\");\r\n-        }\r\n-      } catch (error) {\r\n-        console.error(\"Error fetching data:\", error);\r\n-        setError(\"Gagal mengambil data buku digital. Coba lagi.\");\r\n-      } finally {\r\n-        setLoading(false);\r\n-      }\r\n-    };\r\n-    fetchData();\r\n-  }, []);\r\n-\r\n-  // Fungsi untuk membuka PDF di tab baru\r\n-  const openPDF = (filePath) => {\r\n-    const fullUrl = `http://116.206.212.234:4000${filePath.replace(\"handler/http\", \"\")}`;\r\n-    window.open(fullUrl, \"_blank\");\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"sektoral-container\">\r\n-      <div className=\"sektoral-box\">\r\n-        <h2 className=\"sektoral-title\">Daftar Buku Digital</h2>\r\n-        {error && <p className=\"error-message\">{error}</p>}\r\n-\r\n-        {loading ? (\r\n-          <p>Loading...</p>\r\n-        ) : (\r\n-          <div className=\"result-table table-striped\">\r\n-            <h3>Hasil Pencarian</h3>\r\n-            <table>\r\n-              <thead>\r\n-                <tr>\r\n-                  <th>Judul Buku</th>\r\n-                  <th>Tahun</th>\r\n-                  <th>Detail</th>\r\n-                </tr>\r\n-              </thead>\r\n-              <tbody>\r\n-                {bukuDigital.length > 0 ? (\r\n-                  bukuDigital.map((buku) => (\r\n-                    <tr key={buku.id_buku_digital}>\r\n-                      <td>{buku.buku}</td>\r\n-                      <td>{buku.tahun}</td>\r\n-                      <td>\r\n-                        <button\r\n-                          className=\"detail-button\"\r\n-                          onClick={() => openPDF(buku.file)} // Menambahkan fungsi openPDF di sini\r\n-                        >\r\n-                          Detail\r\n-                        </button>\r\n-                      </td>\r\n-                    </tr>\r\n-                  ))\r\n-                ) : (\r\n-                  <tr>\r\n-                    <td colSpan=\"3\">Tidak ada data yang ditemukan</td>\r\n-                  </tr>\r\n-                )}\r\n-              </tbody>\r\n-            </table>\r\n-          </div>\r\n-        )}\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default BukuDigital;\r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1728545661727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,86 @@\n-\n+// src/Components/auth/BukuDigital.js\r\n+import React, { useState, useEffect } from \"react\";\r\n+import axios from \"axios\";\r\n+import \"../../styles/Bukudigital.css\";\r\n+\r\n+const BukuDigital = () => {\r\n+  const [bukuDigital, setBukuDigital] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [error, setError] = useState(null);\r\n+\r\n+  useEffect(() => {\r\n+    const fetchData = async () => {\r\n+      setLoading(true);\r\n+      try {\r\n+        const response = await axios.get(\"http://116.206.212.234:4000/buku-digital\");\r\n+        if (response.data) {\r\n+          setBukuDigital(response.data);\r\n+        } else {\r\n+          setError(\"Data tidak ditemukan.\");\r\n+        }\r\n+      } catch (error) {\r\n+        console.error(\"Error fetching data:\", error);\r\n+        setError(\"Gagal mengambil data buku digital. Coba lagi.\");\r\n+      } finally {\r\n+        setLoading(false);\r\n+      }\r\n+    };\r\n+    fetchData();\r\n+  }, []);\r\n+\r\n+  // Fungsi untuk membuka PDF di tab baru\r\n+  const openPDF = (filePath) => {\r\n+    const fullUrl = `http://116.206.212.234:4000${filePath.replace(\"handler/http\", \"\")}`;\r\n+    window.open(fullUrl, \"_blank\");\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"sektoral-container\">\r\n+      <div className=\"sektoral-box\">\r\n+        <h2 className=\"sektoral-title\">Daftar Buku Digital</h2>\r\n+        {error && <p className=\"error-message\">{error}</p>}\r\n+\r\n+        {loading ? (\r\n+          <p>Loading...</p>\r\n+        ) : (\r\n+          <div className=\"result-table table-striped\">\r\n+            <h3>Hasil Pencarian</h3>\r\n+            <table>\r\n+              <thead>\r\n+                <tr>\r\n+                  <th>Judul Buku</th>\r\n+                  <th>Tahun</th>\r\n+                  <th>Detail</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody>\r\n+                {bukuDigital.length > 0 ? (\r\n+                  bukuDigital.map((buku) => (\r\n+                    <tr key={buku.id_buku_digital}>\r\n+                      <td>{buku.buku}</td>\r\n+                      <td>{buku.tahun}</td>\r\n+                      <td>\r\n+                        <button\r\n+                          className=\"detail-button\"\r\n+                          onClick={() => openPDF(buku.file)} // Menambahkan fungsi openPDF di sini\r\n+                        >\r\n+                          Detail\r\n+                        </button>\r\n+                      </td>\r\n+                    </tr>\r\n+                  ))\r\n+                ) : (\r\n+                  <tr>\r\n+                    <td colSpan=\"3\">Tidak ada data yang ditemukan</td>\r\n+                  </tr>\r\n+                )}\r\n+              </tbody>\r\n+            </table>\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default BukuDigital;\r\n"
                }
            ],
            "date": 1728543601457,
            "name": "Commit-0",
            "content": "// src/Components/auth/BukuDigital.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../../styles/Bukudigital.css\";\r\n\r\n\r\nconst BukuDigital = () => {\r\n  const [bukuDigital, setBukuDigital] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedBook, setSelectedBook] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await axios.get(\"http://116.206.212.234:4000/buku-digital\");\r\n        if (response.data) {\r\n          setBukuDigital(response.data);\r\n        } else {\r\n          setError(\"Data tidak ditemukan.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n        setError(\"Gagal mengambil data buku digital. Coba lagi.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Fungsi untuk membuka PDF di tab baru\r\n  const openPDF = (filePath) => {\r\n    const fullUrl = `http://116.206.212.234:4000${filePath.replace(\"handler/http\", \"\")}`;\r\n    window.open(fullUrl, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"sektoral-container\">\r\n      {/* <Navbar/> */}\r\n      <div className=\"sektoral-box\">\r\n        <h2 className=\"sektoral-title\">Daftar Buku Digital</h2>\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n\r\n        {loading ? (\r\n          <p>Loading...</p>\r\n        ) : (\r\n          <div className=\"result-table table-striped\">\r\n            <h3>Hasil Pencarian</h3>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Judul Buku</th>\r\n                  <th>Tahun</th>\r\n                  <th>Detail</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {bukuDigital.length > 0 ? (\r\n                  bukuDigital.map((buku) => (\r\n                    <tr key={buku.id_buku_digital}>\r\n                      <td>{buku.buku}</td>\r\n                      <td>{buku.tahun}</td>\r\n                      <td>\r\n                        <button\r\n                          className=\"detail-button\"\r\n                          onClick={() => openPDF(buku.file)} // Menambahkan fungsi openPDF di sini\r\n                        >\r\n                          Detail\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan=\"3\">Tidak ada data yang ditemukan</td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BukuDigital;\r\n"
        }
    ]
}