{
    "sourceFile": "src/Components/auth/Sekroral.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1728009975370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1728009975370,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\"; // Import SweetAlert\r\nimport \"../../styles/Login.css\"; // Import CSS biasa\r\n\r\nconst Sektoral = () => {\r\n  const [opds, setDataOPD] = useState([]);\r\n  const [urusans, setDataUrusan] = useState([]);\r\n  const [loading, setLoading] = useState(true);  // State untuk loading status\r\n  const [error, setError] = useState(null);\r\n  const [DariTahun, setDariTahun] = useState(null);\r\n  const [SampaiTahun, setSampaiTahun] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // get API OPD\r\n    // Fungsi async untuk fetch data menggunakan axios\r\n    const fetchDataOPD = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://116.206.212.234:4000/list-opd\"); // Mengambil data dari API\r\n        setDataOPD(response.data); // Set data dari response\r\n      } catch (error) {\r\n        setError(error); // Set error jika terjadi kesalahan\r\n      } finally {\r\n        setLoading(false); // Hentikan loading\r\n      }\r\n    };\r\n\r\n    fetchDataOPD();\r\n    // get API Urusan\r\n    // Fungsi async untuk fetch data menggunakan axios\r\n    const fetchDataUrusan = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://116.206.212.234:4000/list-opd/urusan\"); // Mengambil data dari API\r\n        setDataUrusan(response.data); // Set data dari response\r\n      } catch (error) {\r\n        setError(error); // Set error jika terjadi kesalahan\r\n      } finally {\r\n        setLoading(false); // Hentikan loading\r\n      }\r\n    };\r\n\r\n    fetchDataUrusan();\r\n  }, []);\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      const response = await axios.get(\"https://api.example.com/data\"); // Mengambil data dari API\r\n      setDataUrusan(response.data); // Set data dari response\r\n    } catch (error) {\r\n      setError(error); // Set error jika terjadi kesalahan\r\n    } finally {\r\n      setLoading(false); // Hentikan loading\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-box\">\r\n        <h2 className=\"login-title\">Cari</h2>\r\n        <form className=\"login-form\" onSubmit={handleSearch}>\r\n          <input\r\n            className=\"login-input\"\r\n            type=\"number\"\r\n            placeholder=\"Dari Tahun\"\r\n            value={DariTahun}\r\n            onChange={(e) => setDariTahun(e.target.value)}\r\n            required\r\n          />\r\n          <input\r\n            className=\"login-input\"\r\n            type=\"number\"\r\n            placeholder=\"Sampai Tahun\"\r\n            value={SampaiTahun}\r\n            onChange={(e) => setSampaiTahun(e.target.value)}\r\n            required\r\n          />\r\n\r\n          {/* Elemen select untuk menampilkan data dari API */}\r\n          <select className=\"login-input\">\r\n            <option value=\"\">Pilih Opsi</option>\r\n            {opds.map((OPD) => (\r\n              <option key={OPD.id_OPD} value={OPD.id_OPD}>\r\n                {OPD.nama_opd}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <select className=\"login-input\">\r\n            <option value=\"\">Pilih Opsi</option>\r\n            {urusans.map((Urusan) => (\r\n              <option key={Urusan.kode_urusan} value={Urusan.kode_urusan}>\r\n                {Urusan.nama_urusan}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <button className=\"login-button\" type=\"submit\">\r\n            Cari\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sektoral;\r\n"
        }
    ]
}