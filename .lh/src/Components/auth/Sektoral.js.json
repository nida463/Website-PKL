{
    "sourceFile": "src/Components/auth/Sektoral.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1728011382271,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1728011391220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useState, useEffect } from 'react';\r\n import axios from \"axios\";\r\n-import { useNavigate } from \"react-router-do\r\n+import { useNavigate } from \"react-router-dom\";\r\n import \"../../styles/Login.css\"; // Import CSS biasa\r\n \r\n const Sektoral = () => {\r\n   const [opds, setDataOPD] = useState([]);\r\n"
                },
                {
                    "date": 1728011919280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n import axios from \"axios\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import \"../../styles/Login.css\"; // Import CSS biasa\r\n \r\n+\r\n const Sektoral = () => {\r\n   const [opds, setDataOPD] = useState([]);\r\n   const [urusans, setDataUrusan] = useState([]);\r\n   const [loading, setLoading] = useState(true);  // State untuk loading status\r\n"
                },
                {
                    "date": 1728013553356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,105 +1,142 @@\n import React, { useState, useEffect } from 'react';\r\n import axios from \"axios\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n import \"../../styles/Login.css\"; // Import CSS biasa\r\n+import \"../../styles/Sektoral.css\"; // Pastikan path sesuai\r\n \r\n-\r\n const Sektoral = () => {\r\n   const [opds, setDataOPD] = useState([]);\r\n   const [urusans, setDataUrusan] = useState([]);\r\n+  const [results, setResults] = useState([]);  // State untuk hasil pencarian\r\n   const [loading, setLoading] = useState(true);  // State untuk loading status\r\n   const [error, setError] = useState(null);\r\n   const [DariTahun, setDariTahun] = useState(null);\r\n   const [SampaiTahun, setSampaiTahun] = useState(null);\r\n+  const [selectedOPD, setSelectedOPD] = useState('');\r\n+  const [selectedUrusan, setSelectedUrusan] = useState('');\r\n \r\n   useEffect(() => {\r\n-    // get API OPD\r\n-    // Fungsi async untuk fetch data menggunakan axios\r\n     const fetchDataOPD = async () => {\r\n       try {\r\n-        const response = await axios.get(\"http://116.206.212.234:4000/list-opd\"); // Mengambil data dari API\r\n-        setDataOPD(response.data); // Set data dari response\r\n+        const response = await axios.get(\"http://116.206.212.234:4000/list-opd\");\r\n+        setDataOPD(response.data);\r\n       } catch (error) {\r\n-        setError(error); // Set error jika terjadi kesalahan\r\n+        setError(error);\r\n       } finally {\r\n-        setLoading(false); // Hentikan loading\r\n+        setLoading(false);\r\n       }\r\n     };\r\n \r\n-    fetchDataOPD();\r\n-    // get API Urusan\r\n-    // Fungsi async untuk fetch data menggunakan axios\r\n     const fetchDataUrusan = async () => {\r\n       try {\r\n-        const response = await axios.get(\"http://116.206.212.234:4000/list-opd/urusan\"); // Mengambil data dari API\r\n-        setDataUrusan(response.data); // Set data dari response\r\n+        const response = await axios.get(\"http://116.206.212.234:4000/list-opd/urusan\");\r\n+        setDataUrusan(response.data);\r\n       } catch (error) {\r\n-        setError(error); // Set error jika terjadi kesalahan\r\n+        setError(error);\r\n       } finally {\r\n-        setLoading(false); // Hentikan loading\r\n+        setLoading(false);\r\n       }\r\n     };\r\n \r\n+    fetchDataOPD();\r\n     fetchDataUrusan();\r\n   }, []);\r\n \r\n-  const handleSearch = async () => {\r\n+  const handleSearch = async (e) => {\r\n+    e.preventDefault();\r\n     try {\r\n-      const response = await axios.get(\"https://api.example.com/data\"); // Mengambil data dari API\r\n-      setDataUrusan(response.data); // Set data dari response\r\n+      const response = await axios.get(\"https://api.example.com/data\", {\r\n+        params: {\r\n+          dariTahun: DariTahun,\r\n+          sampaiTahun: SampaiTahun,\r\n+          opd: selectedOPD,\r\n+          urusan: selectedUrusan\r\n+        }\r\n+      });\r\n+      setResults(response.data); // Set data hasil pencarian\r\n     } catch (error) {\r\n-      setError(error); // Set error jika terjadi kesalahan\r\n-    } finally {\r\n-      setLoading(false); // Hentikan loading\r\n+      setError(error);\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"login-container\">\r\n-      <div className=\"login-box\">\r\n-        <h2 className=\"login-title\">Cari</h2>\r\n-        <form className=\"login-form\" onSubmit={handleSearch}>\r\n+    <div className=\"sektoral-container\">\r\n+      <div className=\"sektoral-form\">\r\n+        <h2 className=\"sektoral-title\">Cari Data</h2>\r\n+        <form className=\"sektoral-input-form\" onSubmit={handleSearch}>\r\n           <input\r\n-            className=\"login-input\"\r\n+            className=\"sektoral-input\"\r\n             type=\"number\"\r\n             placeholder=\"Dari Tahun\"\r\n             value={DariTahun}\r\n             onChange={(e) => setDariTahun(e.target.value)}\r\n             required\r\n           />\r\n           <input\r\n-            className=\"login-input\"\r\n+            className=\"sektoral-input\"\r\n             type=\"number\"\r\n             placeholder=\"Sampai Tahun\"\r\n             value={SampaiTahun}\r\n             onChange={(e) => setSampaiTahun(e.target.value)}\r\n             required\r\n           />\r\n \r\n-          {/* Elemen select untuk menampilkan data dari API */}\r\n-          <select className=\"login-input\">\r\n-            <option value=\"\">Pilih Opsi</option>\r\n+          <select \r\n+            className=\"sektoral-input\" \r\n+            value={selectedOPD}\r\n+            onChange={(e) => setSelectedOPD(e.target.value)}\r\n+          >\r\n+            <option value=\"\">Pilih OPD</option>\r\n             {opds.map((OPD) => (\r\n               <option key={OPD.id_OPD} value={OPD.id_OPD}>\r\n                 {OPD.nama_opd}\r\n               </option>\r\n             ))}\r\n           </select>\r\n-          <select className=\"login-input\">\r\n-            <option value=\"\">Pilih Opsi</option>\r\n+\r\n+          <select \r\n+            className=\"sektoral-input\" \r\n+            value={selectedUrusan}\r\n+            onChange={(e) => setSelectedUrusan(e.target.value)}\r\n+          >\r\n+            <option value=\"\">Pilih Urusan</option>\r\n             {urusans.map((Urusan) => (\r\n               <option key={Urusan.kode_urusan} value={Urusan.kode_urusan}>\r\n                 {Urusan.nama_urusan}\r\n               </option>\r\n             ))}\r\n           </select>\r\n \r\n-          <button className=\"login-button\" type=\"submit\">\r\n-            Cari\r\n-          </button>\r\n+          <button className=\"sektoral-button\" type=\"submit\">Cari</button>\r\n         </form>\r\n       </div>\r\n+\r\n+      {/* Tabel hasil pencarian */}\r\n+      {results.length > 0 && (\r\n+        <div className=\"sektoral-results\">\r\n+          <h3>Hasil Pencarian</h3>\r\n+          <table className=\"sektoral-table\">\r\n+            <thead>\r\n+              <tr>\r\n+                <th>No</th>\r\n+                <th>Tahun</th>\r\n+                <th>OPD</th>\r\n+                <th>Urusan</th>\r\n+              </tr>\r\n+            </thead>\r\n+            <tbody>\r\n+              {results.map((result, index) => (\r\n+                <tr key={index}>\r\n+                  <td>{index + 1}</td>\r\n+                  <td>{result.tahun}</td>\r\n+                  <td>{result.opd}</td>\r\n+                  <td>{result.urusan}</td>\r\n+                </tr>\r\n+              ))}\r\n+            </tbody>\r\n+          </table>\r\n+        </div>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1728013688927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n \r\n   const handleSearch = async (e) => {\r\n     e.preventDefault();\r\n     try {\r\n-      const response = await axios.get(\"https://api.example.com/data\", {\r\n+      const response = await axios.get(\"\", {\r\n         params: {\r\n           dariTahun: DariTahun,\r\n           sampaiTahun: SampaiTahun,\r\n           opd: selectedOPD,\r\n"
                },
                {
                    "date": 1728013707306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n \r\n   const handleSearch = async (e) => {\r\n     e.preventDefault();\r\n     try {\r\n-      const response = await axios.get(\"\", {\r\n+      const response = await axios.get(\"http://116.206.212.234:4000/data-sektoral/beranda\", {\r\n         params: {\r\n           dariTahun: DariTahun,\r\n           sampaiTahun: SampaiTahun,\r\n           opd: selectedOPD,\r\n"
                },
                {
                    "date": 1728014062989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import React, { useState, useEffect } from 'react';\r\n import axios from \"axios\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n import \"../../styles/Login.css\"; // Import CSS biasa\r\n import \"../../styles/Sektoral.css\"; // Pastikan path sesuai\r\n \r\n const Sektoral = () => {\r\n@@ -14,90 +15,97 @@\n   const [selectedOPD, setSelectedOPD] = useState('');\r\n   const [selectedUrusan, setSelectedUrusan] = useState('');\r\n \r\n   useEffect(() => {\r\n+    // get API OPD\r\n     const fetchDataOPD = async () => {\r\n       try {\r\n-        const response = await axios.get(\"http://116.206.212.234:4000/list-opd\");\r\n-        setDataOPD(response.data);\r\n+        const response = await axios.get(\"http://116.206.212.234:4000/list-opd\"); // Mengambil data dari API\r\n+        setDataOPD(response.data); // Set data dari response\r\n       } catch (error) {\r\n-        setError(error);\r\n+        setError(error); // Set error jika terjadi kesalahan\r\n       } finally {\r\n-        setLoading(false);\r\n+        setLoading(false); // Hentikan loading\r\n       }\r\n     };\r\n \r\n+    fetchDataOPD();\r\n+    \r\n+    // get API Urusan\r\n     const fetchDataUrusan = async () => {\r\n       try {\r\n-        const response = await axios.get(\"http://116.206.212.234:4000/list-opd/urusan\");\r\n-        setDataUrusan(response.data);\r\n+        const response = await axios.get(\"http://116.206.212.234:4000/list-opd/urusan\"); // Mengambil data dari API\r\n+        setDataUrusan(response.data); // Set data dari response\r\n       } catch (error) {\r\n-        setError(error);\r\n+        setError(error); // Set error jika terjadi kesalahan\r\n       } finally {\r\n-        setLoading(false);\r\n+        setLoading(false); // Hentikan loading\r\n       }\r\n     };\r\n \r\n-    fetchDataOPD();\r\n     fetchDataUrusan();\r\n   }, []);\r\n \r\n   const handleSearch = async (e) => {\r\n-    e.preventDefault();\r\n+    e.preventDefault(); // Mencegah reload halaman\r\n+    setLoading(true);\r\n     try {\r\n-      const response = await axios.get(\"http://116.206.212.234:4000/data-sektoral/beranda\", {\r\n+      // Menggunakan parameter pencarian untuk mendapatkan data\r\n+      const response = await axios.get(\"http://116.206.212.234:4000/search\", {\r\n         params: {\r\n           dariTahun: DariTahun,\r\n           sampaiTahun: SampaiTahun,\r\n-          opd: selectedOPD,\r\n-          urusan: selectedUrusan\r\n+          idOPD: selectedOPD,\r\n+          kodeUrusan: selectedUrusan,\r\n         }\r\n       });\r\n       setResults(response.data); // Set data hasil pencarian\r\n     } catch (error) {\r\n-      setError(error);\r\n+      setError(error); // Set error jika terjadi kesalahan\r\n+    } finally {\r\n+      setLoading(false); // Hentikan loading\r\n     }\r\n   };\r\n \r\n   return (\r\n-    <div className=\"sektoral-container\">\r\n-      <div className=\"sektoral-form\">\r\n-        <h2 className=\"sektoral-title\">Cari Data</h2>\r\n-        <form className=\"sektoral-input-form\" onSubmit={handleSearch}>\r\n+    <div className=\"login-container\">\r\n+      <div className=\"login-box\">\r\n+        <h2 className=\"login-title\">Cari</h2>\r\n+        <form className=\"login-form\" onSubmit={handleSearch}>\r\n           <input\r\n-            className=\"sektoral-input\"\r\n+            className=\"login-input\"\r\n             type=\"number\"\r\n             placeholder=\"Dari Tahun\"\r\n             value={DariTahun}\r\n             onChange={(e) => setDariTahun(e.target.value)}\r\n             required\r\n           />\r\n           <input\r\n-            className=\"sektoral-input\"\r\n+            className=\"login-input\"\r\n             type=\"number\"\r\n             placeholder=\"Sampai Tahun\"\r\n             value={SampaiTahun}\r\n             onChange={(e) => setSampaiTahun(e.target.value)}\r\n             required\r\n           />\r\n-\r\n           <select \r\n-            className=\"sektoral-input\" \r\n-            value={selectedOPD}\r\n+            className=\"login-input\" \r\n+            value={selectedOPD} \r\n             onChange={(e) => setSelectedOPD(e.target.value)}\r\n+            required\r\n           >\r\n             <option value=\"\">Pilih OPD</option>\r\n             {opds.map((OPD) => (\r\n               <option key={OPD.id_OPD} value={OPD.id_OPD}>\r\n                 {OPD.nama_opd}\r\n               </option>\r\n             ))}\r\n           </select>\r\n-\r\n           <select \r\n-            className=\"sektoral-input\" \r\n-            value={selectedUrusan}\r\n+            className=\"login-input\" \r\n+            value={selectedUrusan} \r\n             onChange={(e) => setSelectedUrusan(e.target.value)}\r\n+            required\r\n           >\r\n             <option value=\"\">Pilih Urusan</option>\r\n             {urusans.map((Urusan) => (\r\n               <option key={Urusan.kode_urusan} value={Urusan.kode_urusan}>\r\n@@ -105,38 +113,49 @@\n               </option>\r\n             ))}\r\n           </select>\r\n \r\n-          <button className=\"sektoral-button\" type=\"submit\">Cari</button>\r\n+          <button className=\"login-button\" type=\"submit\">\r\n+            Cari\r\n+          </button>\r\n         </form>\r\n-      </div>\r\n \r\n-      {/* Tabel hasil pencarian */}\r\n-      {results.length > 0 && (\r\n-        <div className=\"sektoral-results\">\r\n-          <h3>Hasil Pencarian</h3>\r\n-          <table className=\"sektoral-table\">\r\n-            <thead>\r\n-              <tr>\r\n-                <th>No</th>\r\n-                <th>Tahun</th>\r\n-                <th>OPD</th>\r\n-                <th>Urusan</th>\r\n-              </tr>\r\n-            </thead>\r\n-            <tbody>\r\n-              {results.map((result, index) => (\r\n-                <tr key={index}>\r\n-                  <td>{index + 1}</td>\r\n-                  <td>{result.tahun}</td>\r\n-                  <td>{result.opd}</td>\r\n-                  <td>{result.urusan}</td>\r\n+        {/* Tabel hasil pencarian */}\r\n+        {results.length > 0 && (\r\n+          <div className=\"sektoral-results\">\r\n+            <h3>Hasil Pencarian</h3>\r\n+            <table className=\"sektoral-table\">\r\n+              <thead>\r\n+                <tr>\r\n+                  <th>No</th>\r\n+                  <th>Nama OPD</th>\r\n+                  <th>Uraian DSSD</th>\r\n+                  <th>Jumlah</th>\r\n+                  <th>Satuan</th>\r\n+                  <th>Jenis</th>\r\n+                  <th>Kategori</th>\r\n                 </tr>\r\n-              ))}\r\n-            </tbody>\r\n-          </table>\r\n-        </div>\r\n-      )}\r\n+              </thead>\r\n+              <tbody>\r\n+                {results.map((result, index) => (\r\n+                  <tr key={index}>\r\n+                    <td>{index + 1}</td>\r\n+                    <td>{result.nama_opd}</td>\r\n+                    <td>{result.uraian_dssd}</td>\r\n+                    <td>{result.jumlah}</td>\r\n+                    <td>{result.satuan}</td>\r\n+                    <td>{result.jenis_string}</td>\r\n+                    <td>{result.kategori_string}</td>\r\n+                  </tr>\r\n+                ))}\r\n+              </tbody>\r\n+            </table>\r\n+          </div>\r\n+        )}\r\n+\r\n+        {loading && <p>Loading...</p>} {/* Tampilkan loading saat mengambil data */}\r\n+        {error && <p>Error: {error.message}</p>} {/* Tampilkan pesan error jika ada */}\r\n+      </div>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1728014281931,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     e.preventDefault(); // Mencegah reload halaman\r\n     setLoading(true);\r\n     try {\r\n       // Menggunakan parameter pencarian untuk mendapatkan data\r\n-      const response = await axios.get(\"\", {\r\n+      const response = await axios.get(\"http://116.206.212.234:4000/data-sektoral/beranda\", {\r\n         params: {\r\n           dariTahun: DariTahun,\r\n           sampaiTahun: SampaiTahun,\r\n           idOPD: selectedOPD,\r\n"
                },
                {
                    "date": 1728030437957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,161 @@\n+import React, { useState, useEffect } from 'react';\r\n+import axios from \"axios\";\r\n+import \"../../styles/Sektoral.css\"; // Pastikan path sesuai\r\n+\r\n+const Sektoral = () => {\r\n+  const [opds, setDataOPD] = useState([]);\r\n+  const [urusans, setDataUrusan] = useState([]);\r\n+  const [results, setResults] = useState([]);  // State untuk hasil pencarian\r\n+  const [loading, setLoading] = useState(true);  // State untuk loading status\r\n+  const [error, setError] = useState(null);\r\n+  const [DariTahun, setDariTahun] = useState('');\r\n+  const [SampaiTahun, setSampaiTahun] = useState('');\r\n+  const [selectedOPD, setSelectedOPD] = useState('');\r\n+  const [selectedUrusan, setSelectedUrusan] = useState('');\r\n+\r\n+  useEffect(() => {\r\n+    // get API OPD\r\n+    const fetchDataOPD = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"http://116.206.212.234:4000/list-opd\"); // Mengambil data dari API\r\n+        setDataOPD(response.data); // Set data dari response\r\n+      } catch (error) {\r\n+        setError(error); // Set error jika terjadi kesalahan\r\n+      } finally {\r\n+        setLoading(false); // Hentikan loading\r\n+      }\r\n+    };\r\n+\r\n+    fetchDataOPD();\r\n+    \r\n+    // get API Urusan\r\n+    const fetchDataUrusan = async () => {\r\n+      try {\r\n+        const response = await axios.get(\"http://116.206.212.234:4000/list-opd/urusan\"); // Mengambil data dari API\r\n+        setDataUrusan(response.data); // Set data dari response\r\n+      } catch (error) {\r\n+        setError(error); // Set error jika terjadi kesalahan\r\n+      } finally {\r\n+        setLoading(false); // Hentikan loading\r\n+      }\r\n+    };\r\n+\r\n+    fetchDataUrusan();\r\n+  }, []);\r\n+\r\n+  const handleSearch = async (e) => {\r\n+    e.preventDefault(); // Mencegah reload halaman\r\n+    setLoading(true);\r\n+    try {\r\n+      // Menggunakan parameter pencarian untuk mendapatkan data\r\n+      const response = await axios.get(\"http://116.206.212.234:4000/data-sektoral\", {\r\n+        params: {\r\n+          dariTahun: DariTahun,\r\n+          sampaiTahun: SampaiTahun,\r\n+          idOPD: selectedOPD,\r\n+          kodeUrusan: selectedUrusan,\r\n+        }\r\n+      });\r\n+      setResults(response.data); // Set data hasil pencarian\r\n+    } catch (error) {\r\n+      setError(error); // Set error jika terjadi kesalahan\r\n+    } finally {\r\n+      setLoading(false); // Hentikan loading\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"sektoral-container\">\r\n+      <div className=\"search-box\">\r\n+        <h2 className=\"search-title\">Cari Data Sektoral</h2>\r\n+        <form className=\"search-form\" onSubmit={handleSearch}>\r\n+          <div className=\"search-inputs\">\r\n+            <input\r\n+              className=\"search-input\"\r\n+              type=\"number\"\r\n+              placeholder=\"Dari Tahun\"\r\n+              value={DariTahun}\r\n+              onChange={(e) => setDariTahun(e.target.value)}\r\n+              required\r\n+            />\r\n+            <input\r\n+              className=\"search-input\"\r\n+              type=\"number\"\r\n+              placeholder=\"Sampai Tahun\"\r\n+              value={SampaiTahun}\r\n+              onChange={(e) => setSampaiTahun(e.target.value)}\r\n+              required\r\n+            />\r\n+            <select \r\n+              className=\"search-input\" \r\n+              value={selectedOPD} \r\n+              onChange={(e) => setSelectedOPD(e.target.value)}\r\n+              required\r\n+            >\r\n+              <option value=\"\">Pilih OPD</option>\r\n+              {opds.map((OPD) => (\r\n+                <option key={OPD.id_OPD} value={OPD.id_OPD}>\r\n+                  {OPD.nama_opd}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n+            <select \r\n+              className=\"search-input\" \r\n+              value={selectedUrusan} \r\n+              onChange={(e) => setSelectedUrusan(e.target.value)}\r\n+              required\r\n+            >\r\n+              <option value=\"\">Pilih Urusan</option>\r\n+              {urusans.map((Urusan) => (\r\n+                <option key={Urusan.kode_urusan} value={Urusan.kode_urusan}>\r\n+                  {Urusan.nama_urusan}\r\n+                </option>\r\n+              ))}\r\n+            </select>\r\n+            <button className=\"search-button\" type=\"submit\">\r\n+              Cari\r\n+            </button>\r\n+          </div>\r\n+        </form>\r\n+\r\n+        {/* Tabel hasil pencarian */}\r\n+        {results.length > 0 && (\r\n+          <div className=\"sektoral-results\">\r\n+            <h3>Hasil Pencarian</h3>\r\n+            <table className=\"sektoral-table\">\r\n+              <thead>\r\n+                <tr>\r\n+                  <th>No</th>\r\n+                  <th>Nama OPD</th>\r\n+                  <th>Uraian DSSD</th>\r\n+                  <th>Jumlah</th>\r\n+                  <th>Satuan</th>\r\n+                  <th>Jenis</th>\r\n+                  <th>Kategori</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody>\r\n+                {results.map((result, index) => (\r\n+                  <tr key={index}>\r\n+                    <td>{index + 1}</td>\r\n+                    <td>{result.nama_opd}</td>\r\n+                    <td>{result.uraian_dssd}</td>\r\n+                    <td>{result.jumlah}</td>\r\n+                    <td>{result.satuan}</td>\r\n+                    <td>{result.jenis_string}</td>\r\n+                    <td>{result.kategori_string}</td>\r\n+                  </tr>\r\n+                ))}\r\n+              </tbody>\r\n+            </table>\r\n+          </div>\r\n+        )}\r\n+\r\n+        {loading && <p>Loading...</p>} {/* Tampilkan loading saat mengambil data */}\r\n+        {error && <p>Error: {error.message}</p>} {/* Tampilkan pesan error jika ada */}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Sektoral;\r\n"
                }
            ],
            "date": 1728011382271,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-do\r\nimport \"../../styles/Login.css\"; // Import CSS biasa\r\n\r\nconst Sektoral = () => {\r\n  const [opds, setDataOPD] = useState([]);\r\n  const [urusans, setDataUrusan] = useState([]);\r\n  const [loading, setLoading] = useState(true);  // State untuk loading status\r\n  const [error, setError] = useState(null);\r\n  const [DariTahun, setDariTahun] = useState(null);\r\n  const [SampaiTahun, setSampaiTahun] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // get API OPD\r\n    // Fungsi async untuk fetch data menggunakan axios\r\n    const fetchDataOPD = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://116.206.212.234:4000/list-opd\"); // Mengambil data dari API\r\n        setDataOPD(response.data); // Set data dari response\r\n      } catch (error) {\r\n        setError(error); // Set error jika terjadi kesalahan\r\n      } finally {\r\n        setLoading(false); // Hentikan loading\r\n      }\r\n    };\r\n\r\n    fetchDataOPD();\r\n    // get API Urusan\r\n    // Fungsi async untuk fetch data menggunakan axios\r\n    const fetchDataUrusan = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://116.206.212.234:4000/list-opd/urusan\"); // Mengambil data dari API\r\n        setDataUrusan(response.data); // Set data dari response\r\n      } catch (error) {\r\n        setError(error); // Set error jika terjadi kesalahan\r\n      } finally {\r\n        setLoading(false); // Hentikan loading\r\n      }\r\n    };\r\n\r\n    fetchDataUrusan();\r\n  }, []);\r\n\r\n  const handleSearch = async () => {\r\n    try {\r\n      const response = await axios.get(\"https://api.example.com/data\"); // Mengambil data dari API\r\n      setDataUrusan(response.data); // Set data dari response\r\n    } catch (error) {\r\n      setError(error); // Set error jika terjadi kesalahan\r\n    } finally {\r\n      setLoading(false); // Hentikan loading\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-box\">\r\n        <h2 className=\"login-title\">Cari</h2>\r\n        <form className=\"login-form\" onSubmit={handleSearch}>\r\n          <input\r\n            className=\"login-input\"\r\n            type=\"number\"\r\n            placeholder=\"Dari Tahun\"\r\n            value={DariTahun}\r\n            onChange={(e) => setDariTahun(e.target.value)}\r\n            required\r\n          />\r\n          <input\r\n            className=\"login-input\"\r\n            type=\"number\"\r\n            placeholder=\"Sampai Tahun\"\r\n            value={SampaiTahun}\r\n            onChange={(e) => setSampaiTahun(e.target.value)}\r\n            required\r\n          />\r\n\r\n          {/* Elemen select untuk menampilkan data dari API */}\r\n          <select className=\"login-input\">\r\n            <option value=\"\">Pilih Opsi</option>\r\n            {opds.map((OPD) => (\r\n              <option key={OPD.id_OPD} value={OPD.id_OPD}>\r\n                {OPD.nama_opd}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <select className=\"login-input\">\r\n            <option value=\"\">Pilih Opsi</option>\r\n            {urusans.map((Urusan) => (\r\n              <option key={Urusan.kode_urusan} value={Urusan.kode_urusan}>\r\n                {Urusan.nama_urusan}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <button className=\"login-button\" type=\"submit\">\r\n            Cari\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sektoral;\r\n"
        }
    ]
}